<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>进程情况</title>
    <script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/echarts.min.js"></script>
    <script type="text/javascript" src="/static/charts.js"></script>
    <script type="text/javascript" src="/static/script.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='style.css') }}"/>
</head>
<body>
<div class="headerpage"></div>
<p><input type="button" value="回到主页面" onclick="window.location.href='/'"></p>
<h2>
    优化过程-{{ pid }}（
    {% if finished %}
        已结束
    {% else %}
        运行中
    {% endif %}
    ）（待开发）
</h2>
<div class="block">
    <div id="{{ pid }}" style="width:640px; height:360px">
        <script> get_chart("{{ pid }}", "/task/{{ pid }}/chart") </script>
    </div>
</div>
<table border="1" align="center">
    <tr>
        <th></th>
        <th>ID</th>
        <th>AUC(精确度指标)</th>
        <th>Disparate Impact(公平性指标)</th>
    </tr>
    {% for fpop in fpops %}
        <tr>
            <td><label>
                <input type="checkbox" name="slct{{ i }}" checked>
            </label></td>
            <td>{{ loop.index }}</td>
            <td>{{ fpop[0] }}</td>
            <td>{{ fpop[1] }}</td>
        </tr>
    {% endfor %}
</table>
{% if not finished %}
    <p>
        <input type="submit" value="终止任务" onclick="killProcess()">
    </p>
{% endif %}
<p>
    {% if not finished %}
        <input type="submit" value="上传模型" onclick="uploadModels()">
    {% endif %}
    <input type="submit" value="下载模型" onclick="downloadModels()">
</p>

<div class="footerpage"></div>
<script src="{{ url_for('static',filename='extlib/jquery.js') }}"></script>
<script>
    $(function () {
        $(".headerpage").load("{{url_for('static',filename='header.html')}}");
        $(".footerpage").load("{{url_for('static',filename='footer.html')}}");
    });
</script>
</body>
</html>
